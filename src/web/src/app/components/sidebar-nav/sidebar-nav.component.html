<aside class="sidebar sidebar--guidelines">
  <nav class="sidebar-nav">
    <ul class="ids-list--plain">

      <span *ngIf="!grandChildren" class="sidebar-nav__section-title">
        {{sectionTitle}}
      </span>

      <ng-container *ngFor="let child of sidebarNav">

        <li *ngIf="grandChildren" class="sidebar-nav__group">
          <span class="sidebar-nav__child-item">
            {{child.title}}
            <svg class="ids-icon" focusable="false" aria-hidden="true" role="presentation">
              <use xlink:href="#icon_expand"></use>
            </svg>
          </span>
          <ul class="ids-list--plain">
            <li *ngFor="let grandChild of child.children">
              <a *ngIf="grandChild.children.length <= 0" class="sidebar-nav__grandchild-item" routerLinkActive="sidebar-nav__item--current" routerLink="{{grandChild.relative_url}}">
                {{grandChild.title}}
              </a>
              <span *ngIf="grandChild.children.length > 0" class="sidebar-nav__grandchild-item">
                {{grandChild.title}}
                <svg class="ids-icon" focusable="false" aria-hidden="true" role="presentation">
                  <use xlink:href="#icon_expand"></use>
                </svg>
              </span>
              <ul class="ids-list--plain sidebar-nav__level-3">
                <li *ngFor="let greatGrandChild of grandChild.children">
                  <a class="sidebar-nav__level-3-item" routerLinkActive="sidebar-nav__item--current" routerLink="{{greatGrandChild.relative_url}}">{{greatGrandChild.title}}</a>
                </li>
              </ul>
            </li>
          </ul>
        </li>

        <li *ngIf="!grandChildren" class="sidebar-nav__group--no-grandchildren">
          <a class="sidebar-nav__grandchild-item" routerLinkActive="sidebar-nav__item--current" routerLink="{{child.relative_url}}">
            {{child.title}}
          </a>
        </li>

      </ng-container>

    </ul>
  </nav>
</aside>
