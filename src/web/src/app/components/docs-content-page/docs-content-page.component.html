<div class="iux-container">
  <div class="iux-row iux-row--gutter">

    <aside class="iux-row--col-sm-3 iux-row--col-md-3 sidebar" *ngIf="sidebar">

      <div class="form-group form-group--select-version">
        <label for="select-version">Version</label>
        <select #option (change)="onVersionChange(option.value)" id="select-version" class="form-control">
          <option *ngFor="let version of versionPaths" value="/{{section}}{{version.full}}{{element}}" [selected]="version.full == selectedVersion">
            {{ version.label }}
          </option>
        </select>
      </div>

      <nav class="sidebar-nav">
        <ul class="iux-list--plain">
          <li class="sidebar-nav__group" *ngFor="let child of sidebarNav">
            <a class="sidebar-nav__child-item" routerLink="/{{section}}/{{sidebarPath}}/{{child.slug}}">
              {{child.name}}<br>
            </a>
            <ul class="iux-list--plain" *ngIf="child.pages">
              <li *ngFor="let grandChild of child.pages">
                <a class="sidebar-nav__grandchild-item" routerLink="/{{section}}/{{sidebarPath}}/{{grandChild.slug}}">
                  {{grandChild.name}}
                </a>
              </li>
            </ul>
          </li>
        </ul>
      </nav>

    </aside>

    <app-page-not-found *ngIf="notFound"></app-page-not-found>

    <div class="iux-row--col-sm-9 iux-row--col-md-9" *ngIf="!notFound">
      <h1>{{docs?.title}}</h1>
      <a  *ngIf="docs?.demo?.path" href="{{absolutePath}}/demo{{docs.demo.path}}">View Live Demo</a>

      <div *ngIf="docs?.specs">
        <h2>Specifications</h2>
        <table class="section-table">
          <thead>
            <th>Description</th>
            <th>Value</th>
          </thead>
          <tbody>
            <tr *ngFor="let spec of docs.specs">
              <td class="section-table--content">
                {{spec.title}}
              </td>
              <td>
                <span class="site-spec--color" *ngIf="!spec.valueType" [ngStyle]="spec.value && {'background-color': ''+ spec.value +'' }" title="{{spec.value}}"></span>
                <span *ngIf="spec.valueType">{{spec.value}}</span>
              </td>
              <td>
                <code class="site-spec--code">var({{spec.originalDeclaration}})</code>
              </td>
            </tr>
          </tbody>
        </table>
      </div>

      <div *ngFor="let element of elements">
        <h2>Class {{element.name}}</h2>
        <div *ngFor="let constructorTag of element.constructorTags">
          <span>Constructor</span>
          <code>new {{element.name}}({{constructorTag.name}}({{constructorTag.type.name}}): {{constructorTag.description}})</code>
        </div>
        <table class="section-table">
          <thead>
            <th>Name</th>
            <th>Description</th>
          </thead>
          <tbody>
            <tr *ngFor="let method of element.methods">
              <td>
                <div *ngIf="method.params.length; then thenTemplateName; else elseTemplateName">
                  your Content ignored
                </div>
              </td>
              <ng-template #thenTemplateName>
                <td class="section-table--content">
                  {{method.name}}&#40;<span *ngFor="let param of method.params; let isLast=last">{{param.paramName}} = {{param.paramDescription}}{{isLast ? '' : ', '}}</span>&#41;
                </td>
              </ng-template>
              <ng-template #elseTemplateName>
                <td class="section-table--content">
                  {{method.name}}
                </td>
              </ng-template>
              <td class="section-table--content">
                {{method.info}}
              </td>
            </tr>
          </tbody>
        </table>
      </div>
      <div *ngIf="!loading" #link [innerHTML]="docs?.trustedHtml" (click)="relativeLinks(link)"></div>
    </div>

  </div>
</div>
